{% extends 'base.html.twig' %}

{% block title %}Hello AuthorController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Hello {{ controller_name }}! âœ…</h1>

    This friendly message is coming from:
    <ul>
        <li>Your controller at <code><a href="{{ 'C:/Users/Sadre/OneDrive/Bureau/symfony/FirstProject/src/Controller/AuthorController.php'|file_link(0) }}">src/Controller/AuthorController.php</a></code></li>
        <li>Your template at <code><a href="{{ 'C:/Users/Sadre/OneDrive/Bureau/symfony/FirstProject/templates/author/index.html.twig'|file_link(0) }}">templates/author/index.html.twig</a></code></li>
    </ul>
    <p> le nombre d'auteurs : {{authors | length}}</p>
    {% set nb_tot=0 %}
    {% if authors is defined and authors is not empty %}
    {% for author in authors %}
        {{ author.username | upper ~' ' ~ author.email}}
        <img src="{{asset(author.picture)}}" height="150px" alt="Author"/>
        {% set nb_tot = nb_tot + author.nb_books %}
        <br>
    {% else %}
        no authors found
    {% endfor %}
    {% endif %}
    <p>
        le nombre totale des livres: {{ nb_tot }}
    </p>
</div>
{% endblock %}
